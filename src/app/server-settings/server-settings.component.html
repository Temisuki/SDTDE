<!--<div>-->
    <!--<h4 *ngFor="let property of serverXML?.ServerSettings?.property">{{property?.$?.name}}</h4>-->
<!--</div>-->
<navbar-app></navbar-app>

<button class="btn btn-danger" (click)="saveXML()">Debug log</button>
<table class="table table-dark">
    <thead>
    <tr>
        <th scope="col">#</th>
        <th scope="col">Property name</th>
        <th scope="col">Value</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let property of serverXML?.ServerSettings?.property; let propertyIndex = index; let last = last" (change)="detectChanges()" [ngSwitch]="getTypeOfDirective(property?.$?.name, property?.$?.value)" [ngClass]="{'second-tr': propertyIndex%2 === 0}">
        <th scope="row">{{propertyIndex}}</th>
        <td>{{property?.$?.name}}</td>
        <td *ngSwitchCase="TypeOfValue.Boolean"><button class="btn btn-primary" [ngClass]="{'btn-danger': !getBooleanValue(property?.$?.value)}" (click)="booleanChangeOposite(propertyIndex)">{{property?.$?.value}}</button></td>
        <td *ngSwitchCase="TypeOfValue.String"><input class="form-control" id="name" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="property.$.value"></td>
        <td *ngSwitchCase="TypeOfValue.Difficulty">
            <div class="btn-group" (onShown)="detectChanges()" (onHidden)="detectChanges()" dropdown #dropdown="bs-dropdown" [autoClose]="false">
                <button dropdownToggle type="button" class="btn btn-primary dropdown-toggle">
                    {{Difficulty[property.$.value]}} <span class="caret"></span>
                </button>
                <ul  *dropdownMenu class="dropdown-menu" role="menu">
                    <li *ngFor="let difficulty of Difficulty | enumToArray" role="menuitem"><a class="dropdown-item" (click)="dropdown.hide(); setDifficulty(difficulty, propertyIndex)">{{difficulty}}</a></li>
                </ul>
            </div>
        </td>
        <td *ngSwitchCase="TypeOfValue.ZombiesRun">
            <div class="btn-group" (onShown)="detectChanges()" (onHidden)="detectChanges()" dropdown #dropdown="bs-dropdown" [autoClose]="false">
                <button dropdownToggle type="button" class="btn btn-primary dropdown-toggle">
                    {{ZombiesRun[property.$.value] | splitWords}} <span class="caret"></span>
                </button>
                <ul  *dropdownMenu class="dropdown-menu" role="menu">
                    <li *ngFor="let zombiesRun of ZombiesRun | enumToArray" role="menuitem"><a class="dropdown-item" (click)="dropdown.hide(); setZombiesRun(zombiesRun, propertyIndex)">{{zombiesRun | splitWords}}</a></li>
                </ul>
            </div>
        </td>
        <td *ngSwitchCase="TypeOfValue.PlayerKillingMode">
            <div class="btn-group" (onShown)="detectChanges()" (onHidden)="detectChanges()" dropdown #dropdown="bs-dropdown" [autoClose]="false">
                <button dropdownToggle type="button" class="btn btn-primary dropdown-toggle">
                    {{PlayerKillingMode[property.$.value] | splitWords}} <span class="caret"></span>
                </button>
                <ul  *dropdownMenu class="dropdown-menu" role="menu">
                    <li *ngFor="let playerKillingMode of PlayerKillingMode | enumToArray" role="menuitem"><a class="dropdown-item" (click)="dropdown.hide(); setPlayerKillingMode(playerKillingMode, propertyIndex)">{{playerKillingMode | splitWords}}</a></li>
                </ul>
            </div>
        </td>
        <td *ngSwitchCase="TypeOfValue.EnemyDifficulty">
            <div class="btn-group" (onShown)="detectChanges()" (onHidden)="detectChanges()" dropdown #dropdown="bs-dropdown" [autoClose]="false">
                <button dropdownToggle type="button" class="btn btn-primary dropdown-toggle">
                    {{EnemyDifficulty[property.$.value]}} <span class="caret"></span>
                </button>
                <ul  *dropdownMenu class="dropdown-menu" role="menu">
                    <li *ngFor="let enemyDifficulty of EnemyDifficulty | enumToArray" role="menuitem"><a class="dropdown-item" (click)="dropdown.hide(); setEnemyDifficulty(enemyDifficulty, propertyIndex)">{{enemyDifficulty}}</a></li>
                </ul>
            </div>
        </td>
        <td *ngSwitchCase="TypeOfValue.DropOnQuit">
            <div class="btn-group" (onShown)="detectChanges()" (onHidden)="detectChanges()" dropdown #dropdown="bs-dropdown" [autoClose]="false">
                <button dropdownToggle type="button" class="btn btn-primary dropdown-toggle">
                    {{DropOnQuit[property.$.value] | splitWords}} <span class="caret"></span>
                </button>
                <ul  *dropdownMenu class="dropdown-menu" role="menu">
                    <li *ngFor="let dropOnQuit of DropOnQuit | enumToArray" role="menuitem"><a class="dropdown-item" (click)="dropdown.hide(); setDropOnQuit(dropOnQuit, propertyIndex)">{{dropOnQuit | splitWords}}</a></li>
                </ul>
            </div>
        </td>
        <td *ngSwitchCase="TypeOfValue.DropOnDeath">
            <div class="btn-group" (onShown)="detectChanges()" (onHidden)="detectChanges()" dropdown #dropdown="bs-dropdown" [autoClose]="false">
                <button dropdownToggle type="button" class="btn btn-primary dropdown-toggle">
                    {{DropOnDeath[property.$.value] | splitWords}} <span class="caret"></span>
                </button>
                <ul  *dropdownMenu class="dropdown-menu" role="menu">
                    <li *ngFor="let dropOnDeath of DropOnDeath | enumToArray" role="menuitem"><a class="dropdown-item" (click)="dropdown.hide(); setDropOnDeath(dropOnDeath, propertyIndex)">{{dropOnDeath | splitWords}}</a></li>
                </ul>
            </div>
        </td>
        <td *ngSwitchCase="TypeOfValue.GameWorld">
            <div class="btn-group" (onShown)="detectChanges()" (onHidden)="detectChanges()" dropdown #dropdown="bs-dropdown" [autoClose]="false">
                <button dropdownToggle type="button" class="btn btn-primary dropdown-toggle">
                    {{property.$.value | splitWords}} <span class="caret"></span>
                </button>
                <ul  *dropdownMenu class="dropdown-menu" role="menu">
                    <li *ngFor="let gameWorld of GameWorld | enumToArray" role="menuitem"><a class="dropdown-item" (click)="dropdown.hide(); setGameWorld(gameWorld, propertyIndex)">{{gameWorld | splitWords}}</a></li>
                </ul>
            </div>
        </td>
        <td *ngSwitchCase="TypeOfValue.Percentage">
            <div class="range-slider">
                <input class="range-slider__range" type="range" [ngModelOptions]="{standalone: true}" (ngModelChange)="detectChanges()" [(ngModel)]="property.$.value" [value]="property?.$?.value" min="0" max="100">
                <span class="range-slider__value"><input #percentageInput class="percentage" type="text" [ngModelOptions]="{standalone: true}" (ngModelChange)="setPercentage(propertyIndex, percentageInput)" [(ngModel)]="property.$.value"></span>
            </div>
        </td>
    </tr>
    </tbody>
</table>

